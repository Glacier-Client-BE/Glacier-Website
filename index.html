<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Glacier Client | Minecraft BE</title>
  <link rel="icon" type="image/png" href="assets/logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    :root {
        --color-primary: #7289DA;
        --color-dark: #1A1A1A;
        --color-dark-alt: #2D2D2D;
        --color-text: #FFFFFF;
        --color-text-alt: #D9D9D9;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Inter', sans-serif;
    }

    body {
        background: var(--color-dark);
        color: var(--color-text);
        line-height: 1.6;
        overflow-x: hidden;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
    }

    .main-header {
        position: fixed;
        top: 0;
        width: 100%;
        background: rgba(26, 26, 26, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-bottom: 2px solid var(--color-primary);
        z-index: 1000;
        transition: background 0.3s ease;
    }

    .header-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 70px;
    }

    .brand {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .brand-logo {
        width: 40px;
        height: 40px;
        border-radius: 8px;
    }

    .brand-name {
        font-weight: 700;
        font-size: 1.25rem;
        color: var(--color-text);
    }

    .nav-list {
        display: flex;
        gap: 1.2rem; /* Adjusted gap for PC header to fit more items */
        list-style: none;
    }

    .nav-link {
        color: var(--color-text-alt);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease, transform 0.2s ease;
        position: relative;
    }

    .nav-link:hover, .nav-link.active {
        color: var(--color-primary);
        transform: translateY(-2px);
    }

    .nav-link::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        background: var(--color-primary);
        left: 0;
        bottom: -5px;
        transition: width 0.3s ease;
    }

    .nav-link:hover::after, .nav-link.active::after {
        width: 100%;
    }

    .mobile-menu-toggle {
        display: none;
        flex-direction: column;
        gap: 5px;
        cursor: pointer;
        z-index: 1001;
        transition: transform 0.3s ease;
    }

    .menu-bar {
        width: 25px;
        height: 3px;
        background: var(--color-text);
        border-radius: 2px;
        transition: all 0.3s ease;
    }

    .home-section {
        padding: 120px 0;
        margin-top: 70px;
        background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('assets/BG.png');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        min-height: 80vh;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }

    .home-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
        align-items: center;
        text-align: left;
    }

    .home-content {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    .home-title {
        font-size: 3rem;
        margin-bottom: 1rem;
        line-height: 1.1;
        color: var(--color-text);
        text-shadow: 0 0 15px rgba(114, 137, 218, 0.5);
    }

    .home-subtext {
        color: var(--color-text-alt);
        margin-bottom: 2rem;
        font-size: 1.1rem;
    }

    .home-buttons {
        display: flex;
        gap: 1.5rem;
        flex-wrap: wrap;
    }

    .download-button {
        background: var(--color-primary);
        color: var(--color-text);
        padding: 1rem 2rem;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 5px 15px rgba(114, 137, 218, 0.4);
        text-decoration: none;
    }

    .download-button:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(114, 137, 218, 0.6);
    }

    .interface-image {
        width: 100%;
        max-width: 600px;
        border-radius: 16px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.6);
        border: 2px solid rgba(114, 137, 218, 0.3);
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes slideUp {
        from { transform: translateY(30px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-20px); }
    }

    .animate-fade-in-up {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .animate-fade-in-up.is-visible {
        opacity: 1;
        transform: translateY(0);
    }

    .delay-1 { transition-delay: 0.1s; }
    .delay-2 { transition-delay: 0.2s; }
    .delay-3 { transition-delay: 0.3s; }
    .delay-4 { transition-delay: 0.4s; }
    .delay-5 { transition-delay: 0.5s; }
    .delay-6 { transition-delay: 0.6s; }
    .delay-7 { transition-delay: 0.7s; }
    .delay-8 { transition-delay: 0.8s; }
    .delay-9 { transition-delay: 0.9s; }
    .delay-10 { transition-delay: 1.0s; }

    .animate-float {
        animation: float 3s ease-in-out infinite;
    }

    .features-section {
        padding: 6rem 0;
        background: var(--color-dark-alt);
    }

    .section-title {
        text-align: center;
        margin-bottom: 4rem;
        font-size: 2.5rem;
        color: var(--color-primary);
        text-shadow: 0 0 10px rgba(114, 137, 218, 0.3);
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2.5rem;
        max-width: 1000px;
        margin: 0 auto;
    }

    .feature-card {
        background: var(--color-dark);
        padding: 2.5rem;
        border-radius: 16px;
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease, border 0.3s ease;
        border: 1px solid rgba(114, 137, 218, 0.2);
        box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
    }

    .feature-card::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle at center, rgba(114, 137, 218, 0.1) 0%, transparent 70%);
        transform: rotate(45deg);
        transition: transform 0.5s ease;
        opacity: 0;
        z-index: 0;
    }

    .feature-card:hover::before {
        opacity: 1;
        transform: rotate(0deg);
    }

    .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 12px 25px rgba(0,0,0,0.5);
        border-color: var(--color-primary);
    }

    .feature-icon {
        width: 70px;
        height: 70px;
        margin-bottom: 0;
        transition: transform 0.3s ease;
        filter: drop-shadow(0 0 10px rgba(114, 137, 218, 0.5));
        flex-shrink: 0;
    }

    .feature-card:hover .feature-icon {
        transform: scale(1.15) rotate(5deg);
    }

    .feature-content {
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        align-items: center;
    }

    .feature-title {
        font-size: 1.4rem;
        margin-bottom: 0.8rem;
        color: var(--color-text);
    }

    .feature-desc {
        color: var(--color-text-alt);
        font-size: 1rem;
    }

    .downloads-section {
        padding: 6rem 0;
        background: var(--color-dark);
    }

    .downloads-content {
        display: flex;
        flex-direction: column;
        gap: 3rem;
    }

    .subsection-title {
        color: var(--color-primary);
        margin-bottom: 2.5rem;
        font-size: 2rem;
        text-align: center;
    }

    .version-list, .extensions-list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        max-width: 800px;
        margin: 0 auto;
    }

    .version-item, .extension-item {
        background: var(--color-dark-alt);
        padding: 1.2rem 1.8rem;
        border-radius: 12px;
        border: 1px solid rgba(114, 137, 218, 0.1);
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .version-item:hover, .extension-item:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        background-color: var(--color-dark);
    }

    .version-item-content, .extension-item-content {
        flex-grow: 1;
    }

    .version-item h4, .extension-item h4 {
        font-size: 1.1rem;
        color: var(--color-text);
        margin-bottom: 0.3rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .version-item p, .extension-item p {
        font-size: 0.9rem;
        color: var(--color-text-alt);
        margin-bottom: 0;
    }

    .version-tag {
        background: var(--color-primary);
        color: var(--color-text);
        padding: 0.2rem 0.6rem;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        flex-shrink: 0;
    }

    .version-tag.legacy {
        background: #666;
    }

    .download-options {
        display: flex;
        gap: 0.8rem;
        flex-wrap: wrap;
        justify-content: flex-end;
        flex-shrink: 0;
    }

    .download-btn {
        background: var(--color-primary);
        color: var(--color-text);
        padding: 0.6rem 1.2rem;
        border-radius: 8px;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
        font-weight: 600;
        box-shadow: 0 3px 8px rgba(114, 137, 218, 0.3);
    }

    .download-btn:hover {
        transform: translateY(-2px);
        background: #5b6eae;
        box-shadow: 0 5px 12px rgba(114, 137, 218, 0.5);
    }

    .download-btn.small {
        padding: 0.6rem 1.2rem;
        font-size: 0.85rem;
    }

    .legacy-versions-container {
        position: relative;
        overflow: hidden;
        max-height: 150px;
        transition: max-height 0.7s ease-in-out;
        padding-bottom: 20px;
    }

    .legacy-versions-container.expanded {
        max-height: 1000px;
    }

    .legacy-versions-container::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 80px;
        background: linear-gradient(to top, var(--color-dark) 0%, transparent 100%);
        pointer-events: none;
        transition: opacity 0.7s ease-in-out;
        z-index: 1;
    }

    .legacy-versions-container.expanded::after {
        opacity: 0;
    }

    .hidden-legacy, .hidden-legacy-ext {
        opacity: 0;
        height: 0;
        overflow: hidden;
        transition: opacity 0.3s ease, height 0.3s ease;
    }

    .legacy-versions-container.expanded .hidden-legacy,
    .legacy-versions-container.expanded .hidden-legacy-ext {
        opacity: 1;
        height: auto;
    }

    .view-all-button-overlay {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 2;
        background: var(--color-primary);
        color: var(--color-text);
        padding: 0.8rem 1.8rem;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease;
        box-shadow: 0 5px 15px rgba(114, 137, 218, 0.4);
    }

    .view-all-button-overlay:hover {
        transform: translateX(-50%) translateY(-3px);
        box-shadow: 0 8px 20px rgba(114, 137, 218, 0.6);
    }

    .legacy-versions-container.expanded .view-all-button-overlay {
        opacity: 0;
        pointer-events: none;
    }

    .mods-section {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(26, 26, 26, 0.95);
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        z-index: 1000;
        overflow-y: auto;
        padding: 70px 0 6rem;
        transform: translateY(100%);
        opacity: 0;
        visibility: hidden;
        transition: transform 0.5s ease-out, opacity 0.5s ease-out, visibility 0s linear 0.5s;
    }

    .mods-section.is-open {
        transform: translateY(0);
        opacity: 1;
        visibility: visible;
        transition: transform 0.5s ease-out, opacity 0.5s ease-out;
    }

    .overlay-header {
        text-align: center;
        margin-bottom: 3rem;
        padding-top: 2rem;
    }

    .overlay-header h1 {
        font-size: 2.8rem;
        color: var(--color-primary);
        margin-bottom: 1rem;
        text-shadow: 0 0 10px rgba(114, 137, 218, 0.3);
    }

    .overlay-header p {
        color: var(--color-text-alt);
        font-size: 1.1rem;
    }

    .close-mods-btn {
        position: absolute;
        top: 30px; /* Increased from 20px */
        right: 30px; /* Increased from 20px */
        background: none;
        border: none;
        font-size: 2rem;
        color: var(--color-text);
        cursor: pointer;
        transition: transform 0.3s ease, color 0.3s ease;
        z-index: 1001;
    }

    .close-mods-btn:hover {
        color: var(--color-primary);
        transform: rotate(90deg);
    }

    body.no-scroll {
        overflow: hidden;
    }

    .filter-controls {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .filter-button {
        background: var(--color-dark-alt);
        color: var(--color-text-alt);
        padding: 0.7rem 1.5rem;
        border-radius: 8px;
        border: 1px solid rgba(114, 137, 218, 0.2);
        cursor: pointer;
        transition: background 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    }

    .filter-button:hover, .filter-button.active {
        background: var(--color-primary);
        color: var(--color-text);
        border-color: var(--color-primary);
    }

    .search-bar {
        position: relative;
        max-width: 500px;
        margin: 0 auto 3rem;
    }

    .search-bar input {
        width: 100%;
        padding: 0.8rem 1rem 0.8rem 3rem;
        background: var(--color-dark-alt);
        border: 1px solid rgba(114, 137, 218, 0.2);
        border-radius: 8px;
        color: var(--color-text);
        font-size: 1rem;
        outline: none;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .search-bar input:focus {
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px rgba(114, 137, 218, 0.3);
    }

    .search-bar i {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--color-text-alt);
    }

    .mods-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
    }

    .mod-card {
        background: var(--color-dark-alt);
        padding: 1.5rem;
        border-radius: 12px;
        border: 1px solid rgba(114, 137, 218, 0.1);
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        text-align: center;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .mod-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 15px rgba(0,0,0,0.3);
    }

    .mod-icon {
        width: 80px;
        height: 80px;
        display: block; /* Ensure it behaves as a block element */
        margin: 0 auto 1rem; /* Center the block image horizontally and add bottom margin */
        border-radius: 8px;
        object-fit: cover; /* Fill the 80x80 area, cropping if necessary */
    }

    .mod-title {
        font-size: 1.2rem;
        color: var(--color-primary);
        margin-bottom: 0.5rem;
    }

    .mod-description {
        font-size: 0.9rem;
        color: var(--color-text-alt);
        margin-bottom: 1rem;
    }

    .mod-tags {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.5rem;
    }

    .mod-tag {
        background: rgba(114, 137, 218, 0.2);
        color: var(--color-primary);
        padding: 0.3rem 0.7rem;
        border-radius: 5px;
        font-size: 0.75rem;
        font-weight: 500;
    }

    .faq-container {
        max-width: 800px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .faq-card {
        background: var(--color-dark-alt);
        border-radius: 12px;
        border: 1px solid rgba(114, 137, 218, 0.1);
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        overflow: hidden;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .faq-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(0,0,0,0.3);
    }

    .faq-question {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem;
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--color-text);
        cursor: pointer;
        background: var(--color-dark);
        transition: background 0.3s ease;
    }

    .faq-question:hover {
        background: #222;
    }

    .faq-question i {
        transition: transform 0.3s ease;
    }

    .faq-card[open] .faq-question i {
        transform: rotate(180deg);
    }

    .faq-answer {
        padding: 0 1.5rem 1.5rem;
        color: var(--color-text-alt);
        font-size: 1rem;
        line-height: 1.8;
    }

    .faq-answer ul {
        list-style: disc;
        padding-left: 1.5rem;
        margin-top: 0.5rem;
    }

    .video-container {
        position: relative;
        width: 100%;
        padding-bottom: 56.25%;
        height: 0;
        overflow: hidden;
        margin-top: 1rem;
        border-radius: 8px;
    }

    .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
    }

    .discord-section {
        padding: 6rem 0;
        background: var(--color-dark-alt);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        gap: 3rem;
        text-align: center;
    }

    .discord-content {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        gap: 3rem;
        max-width: 1000px;
        margin: 0 auto;
    }

    .discord-widget-panel {
        background: var(--color-dark-alt);
        padding: 1.5rem; /* Reduced padding */
        border-radius: 16px;
        border: 1px solid rgba(114, 137, 218, 0.2);
        box-shadow: 0 8px 20px rgba(0,0,0,0.3), 0 0 20px rgba(114, 137, 218, 0.4);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        flex-shrink: 0;
        width: 380px; /* Slightly increased width */
        height: 530px; /* Slightly increased height */
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .discord-widget-panel:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(0,0,0,0.5), 0 0 30px rgba(114, 137, 218, 0.6);
    }

    .discord-widget-panel iframe {
        width: 100%;
        height: 100%;
        border-radius: 12px; /* Match panel border-radius */
    }

    .discord-text-panel {
        background: var(--color-dark-alt);
        padding: 2.5rem;
        border-radius: 16px;
        text-align: left;
        max-width: 500px;
        border: 1px solid rgba(114, 137, 218, 0.2);
        box-shadow: 0 8px 20px rgba(0,0,0,0.3), 0 0 20px rgba(114, 137, 218, 0.4);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: flex;
        flex-direction: column;
        justify-content: space-between; /* Distribute content and push button down */
    }

    .discord-text-panel:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(0,0,0,0.5), 0 0 30px rgba(114, 137, 218, 0.6);
    }

    .discord-text-panel h2 {
        font-size: 2.5rem;
        color: var(--color-primary);
        margin-bottom: 1rem;
        text-shadow: 0 0 10px rgba(114, 137, 218, 0.3);
        text-align: center; /* Center the title */
    }

    .discord-text-panel p, .discord-text-panel ul {
        color: var(--color-text-alt);
        font-size: 1.1rem;
        line-height: 1.8;
        margin-bottom: 1.5rem;
    }

    .discord-text-panel ul {
        list-style: disc;
        padding-left: 1.5rem;
        margin-top: 1rem;
    }

    .main-footer {
        border-top: 2px solid var(--color-primary);
        padding: 2.5rem 0;
        margin-top: 5rem;
        background: var(--color-dark);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
    }

    .footer-container {
        text-align: center;
        width: 100%;
    }

    .footer-social {
        display: flex;
        justify-content: center;
        gap: 1.8rem;
        margin-bottom: 1.5rem;
    }

    .social-link {
        color: var(--color-text-alt);
        font-size: 1.8rem;
        transition: color 0.3s ease, transform 0.3s ease;
    }

    .social-link:hover {
        color: var(--color-primary);
        transform: translateY(-3px) scale(1.1);
    }

    .copyright-text {
        color: var(--color-text-alt);
        font-size: 0.9rem;
    }

    /* General info panel styling */
    .info-panel {
        background: var(--color-dark-alt);
        padding: 3rem; /* Increased padding */
        border-radius: 16px;
        text-align: center;
        margin: 2rem auto;
        max-width: 800px;
        border: 1px solid rgba(114, 137, 218, 0.2);
        box-shadow: 0 8px 20px rgba(0,0,0,0.3), 0 0 20px rgba(114, 137, 218, 0.4);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .info-panel:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(0,0,0,0.5), 0 0 30px rgba(114, 137, 218, 0.6);
    }

    .info-panel p {
        font-size: 1.1rem;
        color: var(--color-text-alt);
        line-height: 1.8;
    }

    .info-panel ul {
        list-style: disc;
        padding-left: 1.5rem;
        margin-top: 1rem;
        text-align: left;
        color: var(--color-text-alt);
    }

    @media (max-width: 768px) {
        .header-container {
            padding: 0 1rem;
        }

        .nav-menu {
            position: fixed;
            top: 70px;
            right: -100%;
            width: 280px;
            height: calc(100vh - 70px);
            background: rgba(45,45,45,0.98);
            backdrop-filter: blur(15px);
            padding: 2rem;
            transition: right 0.4s ease-in-out;
            box-shadow: -5px 0 20px rgba(0,0,0,0.5);
        }

        .nav-menu.active {
            right: 0;
        }

        .nav-list {
            flex-direction: column;
            align-items: flex-start;
            gap: 1.8rem;
        }

        .nav-link {
            font-size: 1.2rem;
        }

        .mobile-menu-toggle {
            display: flex;
        }

        .mobile-menu-toggle.active .menu-bar:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .mobile-menu-toggle.active .menu-bar:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.active .menu-bar:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        .home-container {
            grid-template-columns: 1fr;
            text-align: center;
            padding-top: 2rem;
            padding-bottom: 2rem;
        }

        .home-content {
            align-items: center;
        }

        .home-title {
            font-size: 2.5rem;
        }

        .home-subtext {
            font-size: 1rem;
        }

        .home-buttons {
            justify-content: center;
            width: 100%;
            max-width: 300px;
        }

        .download-button {
            width: 100%;
            max-width: 300px;
        }

        .interface-preview {
            margin-top: 3rem;
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 3rem;
        }

        .features-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        .feature-card {
            padding: 1.5rem;
            flex-direction: row;
            text-align: left;
            align-items: center;
            gap: 1rem;
        }
        .feature-content {
            align-items: flex-start;
        }

        .mods-header h1, .overlay-header h1 {
            font-size: 2.2rem;
        }
        .mods-header p, .overlay-header p {
            font-size: 1rem;
        }
        .filter-controls {
            flex-direction: column;
            align-items: center;
        }
        .filter-button {
            width: 80%;
            max-width: 250px;
        }
        .search-bar {
            width: 90%;
        }
        .mods-grid {
            grid-template-columns: 1fr;
        }

        .mods-section {
            padding-top: 90px;
        }

        .discord-content {
            flex-direction: column;
            gap: 2rem;
        }

        .discord-widget-panel {
            width: 100%;
            max-width: 350px;
            height: 400px;
            padding: 1rem;
        }

        .discord-text-panel {
            width: 100%;
            padding: 1.5rem;
        }

        .discord-text-panel h2 {
            font-size: 2rem;
        }

        .discord-text-panel p, .discord-text-panel ul {
            font-size: 1rem;
        }

        .version-list, .extensions-list {
            max-width: 100%;
            padding: 0 1rem;
        }
        .version-item, .extension-item {
            flex-direction: column;
            align-items: flex-start;
            text-align: left;
        }
        .download-options {
            margin-top: 0.5rem;
            justify-content: flex-start;
            width: 100%;
        }

        .info-panel {
            padding: 1.5rem;
            margin: 1.5rem auto;
            max-width: 90%;
        }
        .info-panel p, .info-panel ul {
            font-size: 1rem;
        }
    }

    @media (max-width: 480px) {
        .home-title {
            font-size: 2rem;
        }

        .download-button {
            padding: 0.8rem 1.5rem;
            font-size: 0.9rem;
        }

        .section-title {
            font-size: 1.8rem;
        }

        .feature-icon {
            width: 50px;
            height: 50px;
        }

        .feature-title {
            font-size: 1.2rem;
        }

        .feature-desc {
            font-size: 0.9rem;
        }

        .version-item h4, .extension-item h4 {
            font-size: 1rem;
        }

        .version-item p, .extension-item p {
            font-size: 0.85rem;
        }

        .version-tag {
            font-size: 0.7rem;
        }

        .download-btn {
            padding: 0.7rem 1.2rem;
            font-size: 0.85rem;
        }

        .faq-question {
            font-size: 1rem;
            padding: 1.2rem;
        }

        .faq-answer {
            font-size: 0.85rem;
            padding: 0 1.2rem 1.2rem;
        }

        .footer-social {
            gap: 1rem;
        }

        .social-link {
            font-size: 1.5rem;
        }

        .copyright-text {
            font-size: 0.8rem;
        }

        .close-mods-btn {
            font-size: 1.5rem;
            top: 15px;
            right: 15px;
        }
    }
  </style>
</head>
<body>
  <meta property="og:title" content="Glacier Client | Minecraft BE" />
  <meta property="og:description" content="Next Gen Minecraft Experience - Optimized Texture Pack Client for Bedrock Edition with extensive modules, draggable GUI, and lightweight performance." />
  <meta property="og:image" content="assets/mod_menu.png" />
  <meta property="og:url" content="https://glacierclient.xyz" />
  <meta property="og:type" content="website" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@glacierclientbe" />
  <meta name="twitter:title" content="Glacier Client | Minecraft BE" />
  <meta name="twitter:description" content="Next Gen Minecraft Experience - Optimized Texture Pack Client for Bedrock Edition with extensive modules, draggable GUI, and lightweight performance." />
  <meta name="twitter:image" content="assets/mod_menu.png" />
  <header class="main-header">
    <div class="container header-container">
      <div class="brand">
        <img src="assets/logo.png" alt="Glacier Logo" class="brand-logo" loading="lazy" />
        <span class="brand-name">Glacier</span>
      </div>
      <nav class="nav-menu">
        <ul class="nav-list">
          <li class="nav-item"><a href="#home" class="nav-link">Home</a></li>
          <li class="nav-item"><a href="#discord" class="nav-link">Discord</a></li>
          <li class="nav-item"><a href="#features" class="nav-link">Features</a></li>
          <li class="nav-item"><a href="#downloads" class="nav-link">Downloads</a></li>
          <li class="nav-item"><a href="#" class="nav-link" id="faqNavLink">FAQ</a></li>
          <li class="nav-item"><a href="#" class="nav-link" id="allModsNavLink">All Mods</a></li>
          <li class="nav-item"><a href="#" class="nav-link" id="licenseNavLink">License</a></li>
          <li class="nav-item">
            <a href="#" class="nav-link" id="donateNavLink" style="color: #FFDD00;">
              <i class="fas fa-hand-holding-usd"></i> Donate
            </a>
          </li>
        </ul>
      </nav>
      <div class="mobile-menu-toggle">
        <div class="menu-bar"></div>
        <div class="menu-bar"></div>
        <div class="menu-bar"></div>
      </div>
    </div>
  </header>

  <main id="main-content">
    <section id="home" class="home-section">
      <div class="container home-container">
        <div class="home-content">
          <h1 class="home-title animate-fade-in-up">Next Gen Minecraft Experience</h1>
          <p class="home-subtext animate-fade-in-up delay-1">Optimized Texture Pack Client for Bedrock Edition</p>
          <div class="home-buttons">
            <a href="#downloads" class="download-button animate-fade-in-up delay-2">
              <i class="fas fa-download"></i> Download Latest
            </a>
            <a href="https://config.glacierclient.xyz" class="download-button animate-fade-in-up delay-3" style="background-color: #5C6BC0; box-shadow: 0 5px 15px rgba(92, 107, 192, 0.4);">
              <i class="fas fa-cog"></i> Config Editor
            </a>
          </div>
        </div>
        <div class="interface-preview">
          <img src="assets/mod_menu.png" alt="Mod Interface" class="interface-image animate-float" loading="lazy" />
        </div>
      </div>
    </section>

    <section id="discord" class="discord-section">
      <div class="container discord-content">
        <div class="discord-widget-panel animate-fade-in-up delay-1">
          <iframe src="https://discord.com/widget?id=938248183878930514&theme=dark" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
        </div>
        <div class="discord-text-panel animate-fade-in-up delay-2">
          <h2>Join Our Discord Community!</h2>
          <div>
            <p>Connect with other Glacier Client users, get support, share your creations, and stay up-to-date with the latest news and updates.</p>
            <ul>
              <li>Get help with installation and troubleshooting.</li>
              <li>Suggest new features and modules.</li>
              <li>Participate in events and giveaways.</li>
              <li>Chat directly with the developers.</li>
            </ul>
          </div>
          <a href="https://dsc.gg/glacierclientmcbe" class="download-button" style="background-color: #5865F2; box-shadow: 0 5px 15px rgba(88, 101, 242, 0.4); align-self: center;">
            <i class="fab fa-discord"></i> Join Discord Now!
          </a>
        </div>
      </div>
    </section>

    <section id="features" class="features-section">
      <div class="container">
        <h2 class="section-title animate-fade-in-up">Core Features</h2>
        <div class="features-grid">
          <div class="feature-card animate-fade-in-up delay-1">
            <img src="assets/icons/modules.png" alt="Modules" class="feature-icon" loading="lazy" />
            <div class="feature-content">
                <h3 class="feature-title" id="modulesCount"></h3>
                <p class="feature-desc">Extensive modules with real-time configuration</p>
            </div>
          </div>
          <div class="feature-card animate-fade-in-up delay-2">
            <img src="assets/icons/gui.png" alt="GUI" class="feature-icon" loading="lazy" />
            <div class="feature-content">
                <h3 class="feature-title">Draggable Mods</h3>
                <p class="feature-desc">Modules are movable to change the place as your wish.</p>
            </div>
          </div>
          <div class="feature-card animate-fade-in-up delay-3">
            <img src="assets/icons/user.png" alt="Optimized" class="feature-icon" loading="lazy" />
            <div class="feature-content">
                <h3 class="feature-title">Lightweight</h3>
                <p class="feature-desc">Only 2MB with zero performance impact</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="downloads" class="downloads-section">
      <div class="container">
        <h2 class="section-title animate-fade-in-up">Client Downloads</h2>

        <div class="downloads-content">
            <h3 class="subsection-title animate-fade-in-up">Latest Versions</h3>
            <div class="version-list">
                <div class="version-item animate-fade-in-up delay-1">
                    <div class="version-item-content">
                        <h4>Glacier v5 <span class="version-tag">Latest</span></h4>
                        <p>Release: 2025-07-06 | Size: 2.77MB</p>
                    </div>
                    <div class="download-options">
                        <a href="https://link-center.net/499358/KEBMHbdFAIOT" class="download-btn small" target="_blank">
                            <i class="fas fa-download"></i> Linkvertise
                        </a>
                        <a href="https://lootdest.org/s?b6cpLNDy" class="download-btn small" target="_blank">
                            <i class="fas fa-download"></i> LootLabs
                        </a>
                    </div>
                </div>
                <div class="version-item animate-fade-in-up delay-2">
                    <div class="version-item-content">
                        <h4>Glacier v4 <span class="version-tag legacy">Archived</span></h4>
                        <p>Release: 2024-10-26 | Size: 1.75MB</p>
                    </div>
                    <div class="download-options">
                        <a href="https://link-center.net/499358/glacier-client-v4" class="download-btn small" target="_blank">
                            <i class="fas fa-download"></i> Download
                        </a>
                    </div>
                </div>
            </div>

            <div class="legacy-versions-container" id="legacyDownloadsContainer">
                <h3 class="subsection-title animate-fade-in-up">Legacy Versions</h3>
                <div class="version-list legacy-list" id="legacyVersionList">
                    <div class="version-item animate-fade-in-up delay-3">
                        <div class="version-item-content">
                            <h4>Glacier v3 <span class="version-tag legacy">Archived</span></h4>
                            <p>Release: 2022-10-01 | Size: 1.93MB</p>
                        </div>
                        <div class="download-options">
                            <a href="https://www.mediafire.com/file/3ij9ibl2x0jbpdk/GlacierClientV3.mcpack/file" class="download-btn small" target="_blank">
                                <i class="fas fa-download"></i> Download
                            </a>
                        </div>
                    </div>
                    <div class="version-item animate-fade-in-up delay-4 hidden-legacy">
                        <div class="version-item-content">
                            <h4>Glacier v2 <span class="version-tag legacy">Archived</span></h4>
                            <p>Release: 2022-09-15 | Size: 13.53MB</p>
                        </div>
                        <div class="download-options">
                            <a href="https://www.mediafire.com/file/j6u8vlf6o5q5j9g/GlacierClient.zip/file" class="download-btn small" target="_blank">
                                <i class="fas fa-download"></i> Download
                            </a>
                        </div>
                    </div>
                    <div class="version-item animate-fade-in-up delay-5 hidden-legacy">
                        <div class="version-item-content">
                            <h4>Glacier v1 <span class="version-tag legacy">Archived</span></h4>
                            <p>Release: 2022-08-20 | Size: 21.25MB</p>
                        </div>
                        <div class="download-options">
                            <a href="https://www.mediafire.com/file/s7xv3ejoqxg5ntn/GlacierClient.mcpack/file" class="download-btn small" target="_blank">
                                <i class="fas fa-download"></i> Download
                            </a>
                        </div>
                    </div>
                </div>
                <button id="viewAllDownloadsBtn" class="view-all-button-overlay">
                    View All Downloads <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
      </div>
    </section>

    <section id="extensions" class="downloads-section" style="background: var(--color-dark-alt);">
        <div class="container">
            <h2 class="section-title animate-fade-in-up">Glacier Official Extensions</h2>
            <div class="downloads-content">
                <h3 class="subsection-title animate-fade-in-up">Latest Extensions</h3>
                <div class="extensions-list">
                    <div class="extension-item animate-fade-in-up delay-1">
                        <div class="extension-item-content">
                            <h4>Cape Physics (v5)</h4>
                            <p>Adds dynamic physics to player capes for enhanced realism.</p>
                        </div>
                        <div class="download-options">
                            <a href="https://link-target.net/499358/WCp3rcHJiJ21" class="download-btn small" target="_blank">
                                <i class="fas fa-download"></i> Linkvertise
                            </a>
                            <a href="https://lootdest.org/s?wulDc3e9" class="download-btn small" target="_blank">
                                <i class="fas fa-download"></i> LootLabs
                            </a>
                        </div>
                    </div>
                    <div class="extension-item animate-fade-in-up delay-2">
                        <div class="extension-item-content">
                            <h4>Hit Color (v5)</h4>
                            <p>Changes the color of the player when getting hit.</p>
                        </div>
                        <div class="download-options">
                            <a href="https://link-target.net/499358/O3EPrFMabbut" class="download-btn small" target="_blank">
                                <i class="fas fa-download"></i> Linkvertise
                            </a>
                            <a href="https://lootdest.org/s?xt8Clcln" class="download-btn small" target="_blank">
                                <i class="fas fa-download"></i> LootLabs
                            </a>
                        </div>
                    </div>
                </div>

                <div class="legacy-versions-container" id="legacyExtensionsContainer">
                    <h3 class="subsection-title animate-fade-in-up">Legacy Extensions</h3>
                    <div class="extensions-list legacy-list" id="legacyExtensionList">
                        <div class="extension-item animate-fade-in-up delay-3">
                            <div class="extension-item-content">
                                <h4>Chunk Border (v4)</h4>
                                <p>Displays the chunk when holding a nautilus shell in offhand while in 3rd person.</p>
                            </div>
                            <div class="download-options">
                                <a href="https://link-hub.net/499358/glacier-v4-chunk-border" class="download-btn small" target="_blank">
                                    <i class="fas fa-download"></i> Download
                                </a>
                            </div>
                        </div>
                        <div class="extension-item animate-fade-in-up delay-4 hidden-legacy-ext">
                            <div class="extension-item-content">
                                <h4>Freelook (v4)</h4>
                                <p>Crouch in 3rd person mode to enable the freelook.</p>
                            </div>
                            <div class="download-options">
                                <a href="https://direct-link.net/499358/glacier-v4-freelook" class="download-btn small" target="_blank">
                                    <i class="fas fa-download"></i> Download
                                </a>
                            </div>
                        </div>
                        <div class="extension-item animate-fade-in-up delay-5 hidden-legacy-ext">
                            <div class="extension-item-content">
                                <h4>Hitbox (v4)</h4>
                                <p>Displays a hitbox on the player.</p>
                            </div>
                            <div class="download-options">
                                <a href="https://direct-link.net/499358/glacier-v4-hitbox" class="download-btn small" target="_blank">
                                    <i class="fas fa-download"></i> Download
                                </a>
                            </div>
                        </div>
                        <div class="extension-item animate-fade-in-up delay-6 hidden-legacy-ext">
                            <div class="extension-item-content">
                                <h4>Hit Color (v4)</h4>
                                <p>Changes the color of player when getting hit.</p>
                            </div>
                            <div class="download-options">
                                <a href="https://link-center.net/499358/glacier-v4-hitcolor" class="download-btn small" target="_blank">
                                    <i class="fas fa-download"></i> Download
                                </a>
                            </div>
                        </div>
                        <div class="extension-item animate-fade-in-up delay-7 hidden-legacy-ext">
                            <div class="extension-item-content">
                                <h4>Waypoints+ (v4)</h4>
                                <p>Allows the player to make Waypoints, Greenscreen or Deathpoints!</p>
                            </div>
                            <div class="download-options">
                                <a href="https://link-target.net/499358/glacier-v4-waypoints" class="download-btn small" target="_blank">
                                    <i class="fas fa-download"></i> Download
                                </a>
                            </div>
                        </div>
                    </div>
                    <button id="viewAllExtensionsBtn" class="view-all-button-overlay">
                        View All Extensions <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>
  </main>

  <section id="faq-overlay" class="mods-section">
    <button class="close-mods-btn" id="closeFaqBtn"><i class="fas fa-times"></i></button>
    <div class="container">
      <div class="overlay-header animate-fade-in-up">
        <h1>Frequently Asked Questions</h1>
        <p>Comprehensive answers to common inquiries about Glacier Client.</p>
      </div>
      <div class="faq-container" id="faqContainer">
        <!-- FAQ items will be loaded here from faq.json -->
      </div>
    </div>
  </section>

  <section id="all-mods" class="mods-section">
    <button class="close-mods-btn" id="closeModsBtn"><i class="fas fa-times"></i></button>
    <div class="container">
      <div class="overlay-header animate-fade-in-up">
        <h1>Explore All Glacier Mods</h1>
        <p>Discover a wide range of modules to enhance your Minecraft Bedrock Edition experience.</p>
      </div>

      <div class="filter-controls animate-fade-in-up delay-1">
        <button class="filter-button active" data-category="all">All Mods</button>
        <button class="filter-button" data-category="hud">HUD</button>
        <button class="filter-button" data-category="cosmetic">Cosmetic</button>
        <button class="filter-button" data-category="pvp">PvP</button>
        <button class="filter-button" data-category="utility">Utility</button>
        <button class="filter-button" data-category="visual">Visual</button>
      </div>

      <div class="search-bar animate-fade-in-up delay-2">
        <i class="fas fa-search"></i>
        <input type="text" id="modSearch" placeholder="Search for a mod..." />
      </div>

      <div class="mods-grid" id="modsGrid">
      </div>
    </div>
  </section>

  <section id="license-overlay" class="mods-section">
    <button class="close-mods-btn" id="closeLicenseBtn"><i class="fas fa-times"></i></button>
    <div class="container">
      <div class="overlay-header animate-fade-in-up">
        <h1>Glacier Client License</h1>
        <p>The following outlines what you are permitted and not permitted to do with Glacier Client.</p>
      </div>
      <div class="faq-container">
        <div class="faq-item animate-fade-in-up delay-1">
          <details class="faq-card" open>
            <summary class="faq-question">
              <span>What You Can Do</span>
              <i class="fas fa-chevron-down"></i>
            </summary>
            <div class="faq-answer">
              <ul>
                <li>Review the client, but please refrain from using Mediafire links; utilize our official Discord invite instead.</li>
                <li>Utilize code or content from this project in your own private pack for non-public use.</li>
              </ul>
            </div>
          </details>
        </div>

        <div class="faq-item animate-fade-in-up delay-2">
          <details class="faq-card" open>
            <summary class="faq-question">
              <span>What You Cannot Do</span>
              <i class="fas fa-chevron-down"></i>
            </summary>
            <div class="faq-answer">
              <ul>
                <li>Defame Glacier Client by misusing the mod, spreading misinformation, or engaging in any defamatory activity.</li>
                <li>Steal or use content from this resource pack for public distribution without explicit permission.</li>
                <li>Use the draggable mods saving method without giving clear credit to Glacier Client (tag @everyone with our server link). Unauthorized use will result in legal action to remove your pack.</li>
              </ul>
              <p>Respecting this license is crucial to support the community and the ongoing efforts of our developers.</p>
            </div>
          </details>
        </div>
      </div>
    </div>
  </section>

  <section id="donate-overlay" class="mods-section">
    <button class="close-mods-btn" id="closeDonateBtn"><i class="fas fa-times"></i></button>
    <div class="container">
      <div class="overlay-header animate-fade-in-up">
        <h1>Support Glacier Client</h1>
        <p>Your support helps us continue developing and improving Glacier Client, bringing you the best Minecraft Bedrock Edition experience.</p>
      </div>
      <div class="info-panel animate-fade-in-up delay-1">
          <p class="text-lg text-color-text-alt mb-10"> <!-- Adjusted margin-bottom to mb-10 -->
              Every contribution, no matter how small, makes a significant difference in our ability to maintain and enhance Glacier Client. Thank you for being a part of our journey!
          </p>
          <div class="home-buttons justify-center mt-12"> <!-- Adjusted margin-top to mt-12 -->
              <a href="https://paypal.me/PepeOnPayPal" class="download-button" target="_blank" style="background-color: #0070BA; color: #FFFFFF; box-shadow: 0 5px 15px rgba(0, 112, 186, 0.4);">
                  <i class="fab fa-paypal"></i> Donate via PayPal
              </a>
              <a href="https://ko-fi.com/pepeonkofi" class="download-button" target="_blank" style="background-color: #FF5E5B; color: #FFFFFF; box-shadow: 0 5px 15px rgba(255, 94, 91, 0.4);">
                  <i class="fas fa-mug-hot"></i> Donate via Ko-fi
              </a>
          </div>
      </div>
    </div>
  </section>

  <footer class="main-footer">
    <div class="container footer-container">
      <div class="footer-social">
        <a href="https://dsc.gg/glacierclientmcbe" class="social-link" target="_blank"><i class="fab fa-discord"></i></a>
        <a href="https://github.com/glacierclientmcbe" class="social-link" target="_blank"><i class="fab fa-github"></i></a>
        <a href="https://youtube.com/@glacierclient" class="social-link" target="_blank"><i class="fab fa-youtube"></i></a>
        <a href="https://x.com/glacierclientbe" class="social-link" target="_blank"><i class="fab fa-twitter"></i></a>
        <a href="https://www.instagram.com/glacierclientmcbe" class="social-link" target="_blank"><i class="fab fa-instagram"></i></a>
      </div>
      <p class="copyright-text">
         <span id="currentYear"></span> Glacier Client. Not affiliated with Mojang/Microsoft
      </p>
    </div>
  </footer>

  <script>
    let allMods = []; // Declare allMods globally
    let allFaqs = []; // Declare allFaqs globally

    document.addEventListener('DOMContentLoaded', async () => {
        const menuToggle = document.querySelector('.mobile-menu-toggle');
        const navMenu = document.querySelector('.nav-menu');
        const header = document.querySelector('.main-header');
        const currentYearSpan = document.getElementById('currentYear');
        
        const allModsNavLink = document.getElementById('allModsNavLink');
        const modsSection = document.getElementById('all-mods');
        const closeModsBtn = document.getElementById('closeModsBtn');

        const faqNavLink = document.getElementById('faqNavLink');
        const faqOverlay = document.getElementById('faq-overlay');
        const closeFaqBtn = document.getElementById('closeFaqBtn');
        const faqContainer = document.getElementById('faqContainer');

        const licenseNavLink = document.getElementById('licenseNavLink');
        const licenseOverlay = document.getElementById('license-overlay');
        const closeLicenseBtn = document.getElementById('closeLicenseBtn');

        const donateNavLink = document.getElementById('donateNavLink');
        const donateOverlay = document.getElementById('donate-overlay');
        const closeDonateBtn = document.getElementById('closeDonateBtn');

        const modulesCountElement = document.getElementById('modulesCount');
        const modsGrid = document.getElementById('modsGrid');
        const filterButtons = document.querySelectorAll('.filter-button');
        const modSearchInput = document.getElementById('modSearch');

        const viewAllDownloadsBtn = document.getElementById('viewAllDownloadsBtn');
        const legacyDownloadsContainer = document.getElementById('legacyDownloadsContainer');
        const hiddenLegacyDownloadsItems = document.querySelectorAll('#legacyDownloadsContainer .hidden-legacy');

        const viewAllExtensionsBtn = document.getElementById('viewAllExtensionsBtn');
        const legacyExtensionsContainer = document.getElementById('legacyExtensionsContainer');
        const hiddenLegacyExtensionsItems = document.querySelectorAll('#legacyExtensionsContainer .hidden-legacy-ext');

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    // Only unobserve if it's not part of an overlay section
                    if (!entry.target.closest('.mods-section')) {
                        obs.unobserve(entry.target);
                    }
                }
            });
        }, observerOptions);

        const mainPageAnimatedElements = document.querySelectorAll('section:not(.mods-section) .animate-fade-in-up'); 
        mainPageAnimatedElements.forEach(element => {
            observer.observe(element);
        });

        // Fetch mods from JSON file
        try {
            const response = await fetch('mods.json');
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            allMods = await response.json();
            allMods.sort((a, b) => a.title.localeCompare(b.title)); // Sort alphabetically
            if (modulesCountElement) {
                modulesCountElement.textContent = `${allMods.length}+ Modules`;
            }
            filterAndSearchMods(); // Render mods after fetching
        } catch (error) {
            console.error('Error fetching mods:', error);
            if (modulesCountElement) {
                modulesCountElement.textContent = 'Error loading modules';
            }
            modsGrid.innerHTML = '<p style="color: var(--color-text-alt); text-align: center; grid-column: 1 / -1;">Failed to load mods. Please try again later.</p>';
        }

        // Fetch FAQs from JSON file
        try {
            const response = await fetch('faq.json');
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            allFaqs = await response.json();
            renderFaqs(allFaqs); // Render FAQs after fetching
        } catch (error) {
            console.error('Error fetching FAQs:', error);
            faqContainer.innerHTML = '<p style="color: var(--color-text-alt); text-align: center;">Failed to load FAQs. Please try again later.</p>';
        }

        menuToggle.addEventListener('click', () => {
            menuToggle.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        if (currentYearSpan) {
            currentYearSpan.textContent = new Date().getFullYear();
        }

        document.addEventListener('click', (e) => {
            if (!menuToggle.contains(e.target) && !navMenu.contains(e.target)) {
                menuToggle.classList.remove('active');
                navMenu.classList.remove('active');
            }
        });

        function renderFaqs(faqsToDisplay) {
            faqContainer.innerHTML = '';
            faqsToDisplay.forEach((faq, index) => {
                const faqItem = document.createElement('div');
                faqItem.classList.add('faq-item', 'animate-fade-in-up');
                faqItem.style.setProperty('--animation-delay', `${0.1 * index}s`);

                let videoHtml = '';
                if (faq.videoUrl) {
                    videoHtml = `
                        <div class="video-container">
                            <iframe
                                src="${faq.videoUrl}"
                                title="YouTube video player"
                                frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                allowfullscreen
                            ></iframe>
                        </div>
                    `;
                }

                faqItem.innerHTML = `
                    <details class="faq-card">
                        <summary class="faq-question">
                            <span>${faq.question}</span>
                            <i class="fas fa-chevron-down"></i>
                        </summary>
                        <div class="faq-answer">
                            <p>${faq.answer}</p>
                            ${videoHtml}
                        </div>
                    </details>
                `;
                faqContainer.appendChild(faqItem);
                observer.observe(faqItem);
            });

            // Re-attach toggle logic for new FAQ items
            const newFaqItems = faqContainer.querySelectorAll('.faq-card');
            newFaqItems.forEach(item => {
                item.addEventListener('toggle', () => {
                    if (item.open) {
                        newFaqItems.forEach(otherItem => {
                            if (otherItem !== item && otherItem.open) {
                                otherItem.open = false;
                            }
                        });
                    }
                });
            });
        }

        function toggleOverlay(overlayElement, show) {
            if (show) {
                // Close other overlays if open
                [modsSection, faqOverlay, licenseOverlay, donateOverlay].forEach(overlay => {
                    if (overlay !== overlayElement && overlay.classList.contains('is-open')) {
                        overlay.classList.remove('is-open');
                    }
                });

                overlayElement.classList.add('is-open');
                document.body.classList.add('no-scroll');
                const overlayAnimatedElements = overlayElement.querySelectorAll('.animate-fade-in-up');
                overlayAnimatedElements.forEach(element => {
                    element.classList.remove('is-visible');
                    observer.unobserve(element); // Unobserve to reset animation
                    observer.observe(element); // Re-observe to trigger animation
                });
            } else {
                overlayElement.classList.remove('is-open');
                document.body.classList.remove('no-scroll');
            }
            if (navMenu.classList.contains('active')) {
                menuToggle.classList.remove('active');
                navMenu.classList.remove('active');
            }
        }

        allModsNavLink.addEventListener('click', (e) => {
            e.preventDefault();
            toggleOverlay(modsSection, true);
        });

        closeModsBtn.addEventListener('click', () => {
            toggleOverlay(modsSection, false);
        });

        faqNavLink.addEventListener('click', (e) => {
            e.preventDefault();
            toggleOverlay(faqOverlay, true);
        });

        closeFaqBtn.addEventListener('click', () => {
            toggleOverlay(faqOverlay, false);
        });

        licenseNavLink.addEventListener('click', (e) => {
            e.preventDefault();
            toggleOverlay(licenseOverlay, true);
        });

        closeLicenseBtn.addEventListener('click', () => {
            toggleOverlay(licenseOverlay, false);
        });

        donateNavLink.addEventListener('click', (e) => {
            e.preventDefault();
            toggleOverlay(donateOverlay, true);
        });

        closeDonateBtn.addEventListener('click', () => {
            toggleOverlay(donateOverlay, false);
        });

        function renderMods(modsToDisplay) {
            modsGrid.innerHTML = '';
            if (modsToDisplay.length === 0) {
                modsGrid.innerHTML = '<p style="color: var(--color-text-alt); text-align: center; grid-column: 1 / -1;">No mods found matching your criteria.</p>';
                return;
            }

            modsToDisplay.forEach((mod, index) => {
                const modCard = document.createElement('div');
                modCard.classList.add('mod-card', 'animate-fade-in-up');
                modCard.style.setProperty('--animation-delay', `${0.1 * index}s`);

                const tagsHtml = mod.tags.map(tag => `<span class="mod-tag">${tag}</span>`).join('');

                modCard.innerHTML = `
                    <img src="${mod.icon}" alt="${mod.title} Icon" class="mod-icon" loading="lazy" onerror="this.onerror=null;this.src='https://placehold.co/80x80/7289DA/FFFFFF?text=Mod';" />
                    <h3 class="mod-title">${mod.title}</h3>
                    <p class="mod-description">${mod.description}</p>
                    <div class="mod-tags">${tagsHtml}</div>
                `;
                modsGrid.appendChild(modCard);

                observer.observe(modCard);
            });
        }

        function filterAndSearchMods() {
            const searchQuery = modSearchInput.value.toLowerCase();
            const activeCategoryButton = document.querySelector('.filter-button.active');
            const selectedCategory = activeCategoryButton ? activeCategoryButton.dataset.category : 'all';

            const filteredMods = allMods.filter(mod => {
                const matchesCategory = selectedCategory === 'all' || mod.categories.includes(selectedCategory);
                const matchesSearch = mod.title.toLowerCase().includes(searchQuery) ||
                                      mod.description.toLowerCase().includes(searchQuery) ||
                                      mod.tags.some(tag => tag.toLowerCase().includes(searchQuery));
                return matchesCategory && matchesSearch;
            });

            renderMods(filteredMods);
        }

        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                filterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                filterAndSearchMods();
            });
        });

        modSearchInput.addEventListener('input', filterAndSearchMods);

        viewAllDownloadsBtn.addEventListener('click', () => {
            legacyDownloadsContainer.classList.toggle('expanded');
            if (legacyDownloadsContainer.classList.contains('expanded')) {
                viewAllDownloadsBtn.innerHTML = 'Hide Legacy Downloads <i class="fas fa-arrow-up"></i>';
                hiddenLegacyDownloadsItems.forEach(item => {
                    observer.observe(item);
                });
            } else {
                viewAllDownloadsBtn.innerHTML = 'View All Downloads <i class="fas fa-arrow-right"></i>';
                hiddenLegacyDownloadsItems.forEach(item => {
                    item.classList.remove('is-visible');
                    observer.unobserve(item);
                });
            }
        });

        viewAllExtensionsBtn.addEventListener('click', () => {
            legacyExtensionsContainer.classList.toggle('expanded');
            if (legacyExtensionsContainer.classList.contains('expanded')) {
                viewAllExtensionsBtn.innerHTML = 'Hide Legacy Extensions <i class="fas fa-arrow-up"></i>';
                hiddenLegacyExtensionsItems.forEach(item => {
                    observer.observe(item);
                });
            } else {
                viewAllExtensionsBtn.innerHTML = 'View All Extensions <i class="fas fa-arrow-right"></i>';
                hiddenLegacyExtensionsItems.forEach(item => {
                    item.classList.remove('is-visible');
                    observer.unobserve(item);
                });
            }
        });
    });
  </script>
</body>
</html>
